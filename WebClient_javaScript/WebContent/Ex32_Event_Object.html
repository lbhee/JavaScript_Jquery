<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style>
        #add-btn{
            padding: 5px 10px;
            border: 0;
            background: #f80; color: white;
            border-radius: 5px;
        }
        ul{ 
            padding: 0; 
            list-style-position: inside;
        }
        li{
            border-bottom: 1px solid #999;
            padding: 5px 0;
        }
        .active{ background: #abc; } /* step3: 목록 클릭 스타일 */
    </style>
</head>
<body>
	<h1 id='title'>할일 목록</h1>
    <button id="add-btn">목록 추가</button>
    <ul id='list'>
        <li>제목 1</li>
        <li>제목 2</li>
        <li>제목 3</li>
        <li>제목 4</li>
    </ul>
</body>
	<script type="text/javascript">
		let title = document.getElementById("title");
		let list = document.getElementById("list");
		let li = document.getElementsByName("li");
		let addbtn = document.getElementById("add-btn");
		
		function activeItem(event){ //이벤트 객체의 주소
			console.log(event.target);
			console.log("event.currentTarget : " + event.currentTarget);

			if(event.target.nodeName == 'LI'){ // 프로그램에서 관리를 대문자로 해주기때문에 대문자로 비교한다.
				title.innerHTML = event.target.innerText;
				
				// 목록스타일 초기화(class제거)
				for(let i = 0; i < event.target.parentNode.children.length; i++) {
					event.target.parentNode.children[i].removeAttribute('class');
				}
				
				// 현재 선택한 li에 대해서 목록스타일 적용
				event.target.setAttribute('class', 'active');
			}
		}
		
		list.addEventListener('click',activeItem);
		
		// 목록추가
		addbtn.addEventListener('click', function() {
			let txt = prompt('제목입력'); //내장함수
			if(txt != null) {
				list.innerHTML += '<li>' + txt + "</li>";
			}
		});
	</script>
</html>